<style>
.page-layout {
    display: flex;
    flex-wrap: wrap; /* Allows wrapping for responsiveness */
    justify-content: space-between;
    align-items: flex-start;
    margin-top: 2em;
}

.left-column, .faq-container {
    flex-basis: 48%; /* Adjusts the initial width of the columns */
    margin: 1%; /* Adds some space around columns */
}

.faq-container {
    padding-left: 1em; /* Aligns content inside the container */
}

.tabs {
    border-radius: 10px;
    overflow: hidden;
    box-shadow: 0px 0px 12px #4141416e;
}

.tab {
    margin-bottom: 1em; /* Adds space between tabs */
}

.tab-label {
    display: flex;
    justify-content: space-between;
    align-items: center; /* Centers the label and plus sign */
    padding: 1em;
    font-weight: bold;
    background-color: white;
    position: relative; /* Needed for the absolute positioning of the pseudo-element */
    border-bottom: 2px solid #ccc; /* Underline effect */
}

.tab-label::after {
    content: '+'; /* The plus sign */
    position: absolute;
    right: 20px; /* Adjust the position as needed */
    font-size: 24px; /* Adjust the size as needed */
}

.tab-content {
    max-height: 0;
    padding: 0 1em;
    background-color: white;
    transition: all 0.5s ease;
    color: black;
    overflow: hidden; /* Makes the content hidden when tab is not checked */
}

.faq-checkbox:checked ~ .tab-label::after {
    content: '-'; /* Changes to a minus sign when expanded */
}

.faq-checkbox:checked ~ .tab-content {
    max-height: 100vh;
    padding: 1em;
}

/* Responsive adjustments for smaller screens */
@media (max-width: 768px) {
    .left-column, .faq-container {
        flex-basis: 100%;
        margin: 0 0 2em 0;
    }
}

h1.main-page-title.page-title {
    margin-top: 0rem;
}
</style>

<div class="page-width">
    <div class="page-layout">
        <div class="left-column">
            <h1 class="main-page-title page-title">
                {{ section.settings.faq_title | escape }}
            </h1>
            {% if section.settings.faq_description %}
                <div class="rte faq-description">
                    {{ section.settings.faq_description }}
                </div>
            {% endif %}
        </div>
        <div class="faq-container">
            <div class="tabs">
                {% for block in section.blocks %}
                {% assign item = block.settings %}
                <div class="tab">
                    <input type="checkbox" id="faq_checkbox_{{ forloop.index }}" class="faq-checkbox">
                    <label for="faq_checkbox_{{ forloop.index }}" class="tab-label button button--primary">{{ item.question }}</label>
                    <div class="tab-content">{{ item.answer }}</div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</div>


{% schema %}
{
	"name": "FAQ",
	"tag": "section",
	"class": "spaced-section",
	"settings": [
		{
			"type": "text",
			"id": "faq_title",
			"default": "Frequently Asked Questions",
			"label": "Title"
		},
		{
			"type": "text",
			"id": "faq_description",
			"default": "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",
			"label": "Description"
		}
	],
	"blocks": [
		{
			"name": "FAQ Item",
			"type": "faq",
			"settings": [
				{
					"type": "text",
					"id": "question",
					"label": "Question",
					"default": "Do you have a question?"
				},
				{
					"type": "richtext",
					"id": "answer",
					"label": "Answer",
					"default": "<p>I have an answer</p>"
				}
			]
		}
	],
	"presets": [
		{ "name": "FAQ Block" }
	]
}
{% endschema %}
