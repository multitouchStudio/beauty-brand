<script>
document.addEventListener("DOMContentLoaded", function() {
  // Log the id to verify it's what you expect
  console.log('ID:', '{{ id }}');

  const ratingElement = document.querySelector('.review-banner .stars');
  console.log('This is the ratingElement:', ratingElement);

  if (ratingElement) {
    const ratingText = ratingElement.getAttribute('aria-label');
    const ratingMatch = ratingText.match(/Rating of ([\d.]+) out of 5 stars/);
    
    if (ratingMatch && ratingMatch[1]) {
      const rating = parseFloat(ratingMatch[1]);
      const starsPercentage = (rating / 5) * 100;
      const starsPercentageRounded = `${Math.round(starsPercentage)}%`;

      console.log('Rating:', rating, 'Width:', starsPercentageRounded); // For debugging

      const fullStarsElement = document.querySelector(`#reviews-{{ id }} .full-stars`);
      if (fullStarsElement) {
        fullStarsElement.style.width = starsPercentageRounded;
      } else {
        console.error('Full stars element not found for ID:', '{{ id }}');
      }
    } else {
      console.error('Rating not found in aria-label');
    }
  } else {
    console.error('Rating element not found'); // For debugging
  }
});






            </script>
            <style>
            
            .review-banner {
        font-family: Arial, sans-serif;
        line-height: 1;
        color: #333;
        display: flex;
        align-items: center;
        }

        .stars {
        display: inline-block;
        font-size: 16px;
        position: relative;
        color: #ccc; /* Grey color for the empty stars */
        }

        .full-stars {
        display: inline-block;
        position: absolute;
        top: 0;
        left: 0;
        white-space: nowrap;
        overflow: hidden;
        color: gold; /* Gold color for the full stars */
        }

        .score {
        margin-left: 5px;
        font-weight: bold;
        }

        .review-count, .review-text {
        font-weight: normal;
        }

            </style>
           